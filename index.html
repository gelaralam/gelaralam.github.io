<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasepuhan Gelaralam | Melestarikan Budaya, Menjaga Harmoni Alam</title>
    <meta name="description"
        content="Website Resmi Kasepuhan Gelaralam - Mengenal Sejarah, Budaya, dan Tradisi Kampung Adat yang Hidup Harmonis dengan Alam.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Custom styles are in css/style.css -->
</head>

<body>
    <!-- Header & Navigation -->
    <header class="header">
        <nav class="nav">
            <div class="container nav__container">
                <a href="#" class="nav__brand">
                    <img src="assets/logo.png" alt="Logo Kasepuhan">
                    <span>KASEPUHAN GELARALAM</span>
                </a>
                <button class="nav__toggle" id="nav-toggle">
                    <span></span><span></span><span></span>
                </button>
                <ul class="nav__menu" id="nav-menu">
                    <li><a href="#beranda" class="nav__link active">Beranda</a></li>
                    <li><a href="#sejarah" class="nav__link">Tentang Kami</a></li>
                    <li><a href="#budaya" class="nav__link">Upacara Adat</a></li>
                    <li><a href="#jadwal" class="nav__link">Jadwal</a></li>
                    <li><a href="#galeri" class="nav__link">Galeri</a></li>
                    <li><a href="#kontak" class="nav__link">Testimoni</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="beranda">
        <div class="container hero__container">
            <!-- Content -->
            <div class="hero__content">
                <img src="assets/logo.png" alt="Logo Kasepuhan" class="hero__logo">
                <span class="hero__subtitle">KASEPUHAN</span>
                <h1 class="hero__title">GELARALAM</h1>
                <p class="hero__description">
                    Kasepuhan Gelaralam adalah salah satu masyarakat adat yang ada di Jawa Barat. Hingga hari ini
                    Kasepuhan Gelaralam erat hubungannya dengan padi, segala aktivitas masyarakatnya berpusat pada
                    sistem pertanian padi. Di tempat tersebut kita masih bisa menyaksikan secara langsung bagaimana cara
                    hidup Masyarakat Sunda lama. Semua hal yang berhubungan dengan padi diolah menggunakan alat-alat
                    tradisional. Dalam konteks ini, masyarakat Kasepuhan Gelaralam memiliki pepatah Ciri sabumi Cara
                    Sadesa, Sacarana-sacarana, yang berarti setiap daerah memiliki cara atau adat istiadatnya
                    masing-masing, dan tentu berbeda-beda.
                    <br><br>
                    Masyarakat Adat Kasepuhan Gelaralam masih menggunakan aturan-aturan adat secara turun-termurun dari
                    leluhurnya. Kapamalian atau pantrangan di kampung adat ini masih sangat diterapkan. Bahkan, jika
                    kita melanggar hal yang tidak diperbolehkan, maka kita akan sakit atau terhindar dari keselamatan
                    yang biasa disebut oleh masyarakat kasepuhan sebagai Kabendon.
                    <br><br>
                    Masyarakat kasepuhan dilarang menjual belikan beras dan nasi, menggunakan kendaraan untuk membawa
                    padi, dan mengolah lahan pertanian dengan barang-barang seperti traktor, penggiling padi, mejikom,
                    dll. Semua dilakukan manual dan secara tradisional. Hal tersebut hanya beberapa aturan-aturan adat
                    yang ada di Kasepuhan Gelaralam. Guna untuk tetap menjaga kelestarian adat dan tradisi leluhurnya.
                </p>
                <div class="hero__identity-labels">
                    <div class="hero__identity-text">
                        <h4 class="hero__portrait-name">ABAH UGI SUGRIANA RAKASIWI</h4>
                        <p class="hero__portrait-title">KETUA ADAT KASEPUHAN GELARALAM</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sejarah Section -->
    <section class="sejarah" id="sejarah">
        <div class="container sejarah__container">
            <h3 class="section__subtitle-alt">TENTANG KAMI</h3>
            <h2 class="section__title-large">SEJARAH</h2>

            <div class="sejarah__content">
                <p class="sejarah__text">
                    Dalam tradisi Kasepuhan Gelaralam dikenal istilah ngalalakon (perpindahan) dan wangsit (petunjuk)
                    yang hanya dimiliki oleh Abah sebagai Ketua Adat. Dalam catatan lokal Masyarakat, Kasepuhan
                    Gelaralam telah melakukan 20 kali perpindahan berdasarkan wangsit/petunjuk ketua adat. Adapun ciri
                    pasti yang mereka terapkan adalah ketika tanah sudah mulai tidak bisa ditanami atau padi yang kurang
                    ketika masa panen, maka kemungkinan mereka akan melakukan perpindahan ke suatu tempat yang dinamakan
                    Awisan. Awisan berarti tempat yang dijanjikan oleh leluhur Pancer Pangawinan untuk dijadikan tempat
                    atau kampung baru, biasanya terdapat ciri pada tiap awisan, sehingga Masyarakat Pancer Pangawinan
                    dapat membedakan antara Awisan dan Tarikolot.
                    <br><br>
                    Kasepuhan Gelaralam adalah pergantian nama dari Kasepuhan Ciptagelar. Kasepuhan ini berdiri sejak
                    tahun 1368 hingga sekarang. Kasepuhan Gelaralam merupakan pecahan dari Masyarakat Pancer Pangawinan
                    yang mengawali sejarahnya dari Kampung Tarikolot Cipatat Bogor yang terbagi menjadi tiga Kasepuhan
                    di sekitar Banten dan Sukabumi meliputi: Kasepuhan Citorek, Kasepuhan Cicarucub, dan Kasepuhan
                    Gelaralam. Ketiga Masyarakat Pancer Pangawinan tersebut mempunyai satu Tradisi yang sama yaitu
                    Tradisi menjaga Tali Paranti Karuhun yang masih diterapkan hingga hari ini, Kasepuhan Gelaralam
                    adalah satu-satunya Kasepuhan yang memiliki konsep Nomaden atau berpindah-pindah, sedangkan sisanya
                    berdiam di dua tempat berbeda di wilayah Kabupaten Banten sekarang. Hal ini, yang menjadi pembeda
                    Kasepuhan Gelaralam dan kasepuhan lainnya.
                    <br><br>
                    Pancer Pangawinan adalah kelompok komunitas yang telah ada dari tahun 1300 M, ditandai dengan adanya
                    Kampung Tarikolot Cipatat Urug di Bogor. Ciri masyarakat pancer pangawinan adalah budidaya padi
                    ladang (huma). Selain itu, kebiasaan komunitas pancer pangawinan adalah berpindah-pindah, dengan
                    adanya foklor atau cerita rakyat mengenai batara tujuh. Secara epistimologi kata Pancer berarti
                    pusat, kata Pangawinan berarti tempat berkawin. Pancer Pangawinan berarti tempat penyelarasan dua
                    unsur dalam kosmologi Sunda seperti, laki-laki dan perempuan, langit dan bumi, matahari dan bulan,
                    dll.
                </p>
            </div>


        </div>
    </section>

    <!-- Upacara Adat Section -->
    <section class="ngaseuk" id="budaya">
        <div class="ngaseuk__bg" id="budaya-bg"></div>
        <button class="ngaseuk__nav ngaseuk__nav--prev" id="budaya-prev" aria-label="Previous slide">&lsaquo;</button>
        <button class="ngaseuk__nav ngaseuk__nav--next" id="budaya-next" aria-label="Next slide">&rsaquo;</button>
        <div class="container ngaseuk__container">
            <div class="ngaseuk__slider" id="budaya-slider">
                <!-- Populated by JS -->
            </div>
            <div class="ngaseuk__indicators" id="budaya-indicators">
                <!-- Populated by JS -->
            </div>
        </div>
    </section>

    <!-- Timeline/Jadwal -->
    <section class="timeline" id="jadwal">
        <div class="container timeline__container-wrapper">
            <h3 class="timeline__section-subtitle">KASEPUHAN GELARALAM</h3>
            <h2 class="timeline__section-title">JADWAL ACARA KEGIATAN ADAT 2026</h2>
            <div id="timeline-container" class="timeline__container"></div>
        </div>
    </section>

    <!-- Gallery -->
    <section class="gallery" id="galeri">
        <div class="container">
            <h2 class="section__title">GALERI</h2>
            <div class="gallery__filters">
                <button class="filter-btn active" data-filter="all">SEMUA</button>
                <button class="filter-btn" data-filter="adat">UPACARA ADAT</button>
                <button class="filter-btn" data-filter="life">KEHIDUPAN</button>
                <button class="filter-btn" data-filter="craft">KERAJINAN</button>
            </div>
            <div class="gallery__grid" id="gallery-grid"></div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials" id="kontak">
        <div class="container">
            <h2 class="section__title">TESTIMONI</h2>

            <div class="testimonials__grid" id="testimonials-grid">
                <!-- Populated by JS -->
            </div>

            <div class="testimonials__action" style="text-align: center; margin-top: 3rem;">
                <button class="btn-primary" id="write-testimoni-btn"
                    style="background: var(--color-accent); color: #000; padding: 12px 30px; border-radius: 30px; font-weight: 700; letter-spacing: 1px; transition: 0.3s; box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);">
                    <i class="fa-solid fa-pen-nib" style="margin-right: 8px;"></i> TULIS PENGALAMAN ANDA
                </button>
            </div>
        </div>
    </section>

    <!-- Public Testimonial Modal -->
    <div class="modal" id="public-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-public-modal">&times;</span>
            <h2 class="section__title" style="font-size: 2rem; margin-bottom: 1rem; text-align: center;">Ceritakan
                Pengalamanmu</h2>
            <p style="text-align: center; margin-bottom: 2rem; color: #666;">Bagikan cerita seru Anda saat berkunjung ke
                Kasepuhan Gelaralam.</p>

            <form id="public-form">
                <div class="form-group">
                    <label for="p-name">Nama Lengkap</label>
                    <input type="text" id="p-name" required placeholder="Nama Anda">
                </div>
                <div class="form-group">
                    <label for="p-origin">Asal Kota</label>
                    <input type="text" id="p-origin" required placeholder="Kota Asal">
                </div>
                <div class="form-group">
                    <label for="p-photo">Foto Anda (Opsional)</label>
                    <div style="font-size: 0.8rem; color: #666; margin-bottom: 5px;">*Pilih foto, lalu lampirkan
                        (attach) ke email nanti</div>
                    <input type="file" id="p-photo" accept="image/*">
                    <div id="upload-status" style="margin-top: 8px; font-size: 0.85rem; display: none;"></div>
                </div>
                <div class="form-group">
                    <label for="p-text">Cerita Anda</label>
                    <textarea id="p-text" rows="4" required
                        placeholder="Tuliskan pengalaman Anda di sini..."></textarea>
                </div>
                <button type="submit" class="btn-primary"
                    style="width: 100%; background: var(--color-accent); color: #000; padding: 12px; font-weight: 700; border-radius: 6px; margin-top: 1rem;">KIRIM
                    CERITA</button>
                <p style="font-size: 0.8rem; color: #888; text-align: center; margin-top: 10px;">*Cerita Anda akan
                    dikirim melalui email ke admin untuk dimoderasi sebelum ditampilkan.</p>
            </form>
        </div>
    </div>

    <footer class="footer">
        <div class="container footer__container">
            <div class="footer__brand">
                <img src="assets/logo.png" alt="Logo Kasepuhan" class="footer__logo">
            </div>

            <div class="footer__subscribe">
                <h4>Subscribe to Kasepuhan Gelaralam via Email</h4>
                <p style="margin-bottom: 1rem;">Latest news, musings, announcements and updates direct to your inbox.
                </p>
                <form class="subscribe-form">
                    <input type="email" placeholder="Email Address" required>
                    <button type="submit">Subscribe</button>
                </form>
                <div class="footer__contact-info"
                    style="margin-top: 1.5rem; display: flex; align-items: center; gap: 10px; color: var(--color-text-light); font-weight: 500;">
                    <i class="fa-solid fa-phone" style="color: var(--color-accent);"></i>
                    <a href="tel:+6281222410859"
                        style="text-decoration: none; color: inherit; transition: color 0.3s ease;">+62
                        812-2241-0859</a>
                </div>
            </div>

            <div class="footer__sitemap">
                <h4 class="footer__title">SITEMAP</h4>
                <ul class="footer__links">
                    <li><a href="#beranda">Beranda</a></li>
                    <li><a href="#sejarah">Tentang Kami</a></li>
                    <li><a href="#budaya">Upacara Adat</a></li>
                    <li><a href="#jadwal">Jadwal Adat</a></li>
                    <li><a href="#galeri">Galeri</a></li>
                    <li><a href="#kontak">Testimoni</a></li>
                </ul>
            </div>

            <div class="footer__socials-box">
                <h4 class="footer__title">SOSIAL</h4>
                <div class="footer__socials">
                    <a href="https://www.instagram.com/kasepuhangelaralamofficial/" target="_blank"
                        rel="noopener noreferrer" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fa-brands fa-youtube"></i></a>
                    <a href="#" aria-label="TikTok"><i class="fa-brands fa-tiktok"></i></a>
                    <a href="mailto:info@gelaralam.id" aria-label="Email"><i class="fa-solid fa-envelope"></i></a>
                    <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
                </div>
            </div>
        </div>
        <div class="footer__bottom">
            <div class="container">
                <p>&copy; 2026 Kasepuhan Gelaralam. All Rights Reserved. | <a href="admin.html"
                        style="opacity: 0.5; font-size: 0.8rem;">Admin Login</a></p>
            </div>
        </div>
    </footer>

    <!-- SCRIPT UTAMA -->
    <script>
        // DATA
        const budayaData = [
            { title: 'NGASEUK', b: 'assets/budaya-bg.png', d: 'Upacara adat ngaseuk merupakan kegiatan menanam padi di ladang (huma). Seluruh masyarakat Kasepuhan Gelaralam yang sudah menikah (rarabi) diwajibkan untuk menanam padi di ladang. Adapun yang belum menikah hanya sekadar membantu orang tua atau keluarganya yang akan menjalankan kegiatan ngaseuk. Menurut Aki Koyod, hal ini dilaksanakan karena harus adanya kerja sama antara laki-laki dan perempuan dalam pelaksanaan ngaseuk. Oleh karena itu, apabila yang menikah tersebut kehilangan salah satunya (meninggal) atau bercerai (papirak), maka tidak bisa lagi melaksanakan upacara adat ngaseuk.' },
            { title: 'MIPIT', b: 'assets/mipit-bg.jpg', d: 'Upacara adat mipit merupakan kegiatan memetik atau memanen padi. Dilakukan di ladang (huma) juga di sawah, namun yang utama dilakukan di ladang.' },
            { title: 'NGANYARAN', b: 'assets/tradisi-3.png', d: 'Nganyaran merupakan kegiatan yang dilakukan untuk menanak nasi dari beras pertama yang dipanen di tahun baru. Sebelum nganyaran, biasanya seminggu sebelumnya diadakan nutu nganyaran (menumbuk padi pertama). Nutu nganyaran dimulai oleh Ema, kemudian diteruskan oleh incu putu (warga adat) dari berbagai daerah.' },
            { title: 'NGADIUKEUN', b: 'assets/tradisi-4.png', d: 'Ngadiukeun merupakan kegiatan ritual yang dilaksanakan di Leuit (lumbung padi). Setelah padi dari ladang (huma) maupun sawah diangkut (diunjal), dilaksanakan ritual ngadiukeun padi, yaitu mendudukkan (menempatkan secara resmi) padi di dalam lumbung.' },
            { title: 'SERENTAUN', b: 'assets/tradisi-5.png', d: 'Serentaun sering disebut juga séréntaun. Serentaun memiliki arti menyerahkan hasil bumi kepada Yang Maha Memiliki (Tuhan). Dilaksanakan melalui beberapa (rangkaian) syukuran, kirim doa, serta selamatan.' }
        ];

        const timelineData = [
            { id: 1, date: '1 PEBRUARI', title: 'PANGANGGOAN 14 NA RUAH', description: 'Opat belasna merupakan kegiatan yang dilakukan sebulan sekali.' },
            { id: 2, date: '4 PEBRUARI', title: 'SIDKAH RUAH REBO 16 RUAH', description: 'Upacara adat yang berkaitan dengan aspek keagamaan' },
            { id: 3, date: '11 PEBRUARI', title: 'TUTUP NYAMBUT 23 RUAH', description: 'Tutup nyambut dilaksanakan untuk menjadi tanda atau sandi kasepuhan.' },
            { id: 4, date: '24 PEBRUARI', title: 'PAMAGERAN SALASA 7 PUASA', description: 'Pamageran dilaksanakan untuk memagari seluruh kegiatan pertanian.' },
            { id: 5, date: '2 MARET', title: 'PANGANGGOAN 14 NA PUASA', description: 'Opat belasna merupakan kegiatan yang dilakukan sebulan sekali.' },
            { id: 6, date: '5 MARET', title: 'PANYIRAMAN KEMIS 16 PUASA', description: 'Panyiraman atau Salamet Mapag Paré Nyiram dilakukan ketika padi sudah mulai tumbuh bulir atau nyiram (Paré Beukah) baik di huma dan disawah, dilaksanakan selametan atau syukuran agar padi tumbuh dengan baik dan terhidar dari hama.' },
            { id: 7, date: '23 MARET', title: 'PANYIMURAN SENEN 4 SAWAL', description: 'Kegiatan nyimur dilakukan untuk inisiasi bayi baru lahir.' },
            { id: 8, date: '31 MARET', title: 'BEBERES PANYIMURAN SALASA 12 SAWAL', description: 'Kegiatan nyimur dilakukan untuk inisiasi bayi baru lahir.' },
            { id: 9, date: '1 APRIL', title: 'PANGANGGOAN 14 NA SAWAL', description: 'Panganggoan Hajat keinginan Abah hendak mengkhitanan (sunatan)' }
        ];

        const galleryItems = [
            { cat: 'life', title: 'Masyarakat Adat', img: 'assets/gallery/gallery-1.jpg' },
            { cat: 'adat', title: 'Tradisi Ngunjal Padi', img: 'assets/gallery/gallery-2.jpg' },
            { cat: 'life', title: 'Kebersamaan Warga', img: 'assets/gallery/gallery-3.JPG' },
            { cat: 'life', title: 'Kampung Gelaralam', img: 'assets/gallery/gallery-4.PNG' },
            { cat: 'adat', title: 'Ritual Nganyaran', img: 'assets/gallery/gallery-5.JPG' },
            { cat: 'life', title: 'Dokumentasi Budaya', img: 'assets/gallery/gallery-6.JPG' }
        ];

        const testimonialData = [
    {
        "name": "Fahril Veraldyka",
        "origin": "Bandung",
        "text": "Salah satu pengalaman paling unik yang pernah saya dapatkan! Dapat melihat keseharian warga adat dan kelestarian budaya yang tetap terjaga. Tidak lupa terimakasih untuk seluruh pihak yang telah membantu merealisasikan kunjungan saat itu!",
        "photo": "assets/testimonials/foto-Fahril.jpg",
        "stars": 5
    },
    {
        "name": "Ameesy",
        "origin": "Bandung",
        "text": "You’ll have a really FUN experience here! You can also learn about Sundanese culture, traditions, and everyday life. If you’re a total nature lover into mountains, cool air, and beautiful views this place is perfect for you. Trust me, once you’re there, you won’t want to go home!.",
        "photo": "assets/testimonials/foto-Ameesy.jpg",
        "stars": 5
    },
    {
        "name": "Kiki Santi N",
        "origin": "Bandung",
        "text": "Kalau dr bandung sebenernya destinasi yg sangat lengkap pantai lewat,offroad oke, hutan ada ..dan tiba2 kayak Nemu surga tersembunyi ditengah hutan....respect dijaman skrg masih ada yg sangat memelihara adat Sunda, kayak kembali ke jaman sebelum dunia JD kacao hehhehe....",
        "photo": "assets/testimonials/foto-Kiki.jpg",
        "stars": 5
    }
    {
        "name": "Hananto WB",
        "origin": "Temanggung",
        "text": "Berkunjung ke  Kasepuhan Gelar Alam bikin dada sesak haru bercampur syukur. Di tengah dunia yang makin berisik dan serba pamer, warga Kasepuhan hidup begitu tenang, sederhana, tanpa banyak suara. Menjalani hidup penuh hormat pada alam, gotong royong, syukur yang tulus semuanya terasa murni, hangat, dan dalam. Rasanya seperti diingatkan pelan: kebahagiaan itu nggak perlu ribut, nggak perlu mewah. Cukup selaras dengan alam, saling jaga, dan bersyukur atas apa yang diberi. Hati langsung adem, rindu ingin ke sana, merasakan langsung kedamaian itu.",
        "photo": "assets/testimonials/foto-Hananto.jpg",
        "stars": 5
    }

];

        // LOGIC
        document.addEventListener('DOMContentLoaded', () => {
            // Navbar
            document.getElementById('nav-toggle').onclick = () => document.getElementById('nav-menu').classList.toggle('active');

            // Sejarah Dots
            document.querySelectorAll('.sejarah__dot').forEach(dot => {
                dot.onclick = function () {
                    const idx = this.dataset.slide;
                    document.querySelectorAll('.sejarah__dot').forEach(d => d.classList.remove('active'));
                    document.querySelectorAll('.sejarah__slide').forEach(s => s.classList.remove('active'));
                    this.classList.add('active');
                    document.querySelectorAll('.sejarah__slide')[idx].classList.add('active');
                }
            });

            // Budaya Slider
            const slider = document.getElementById('budaya-slider');
            const section = document.querySelector('.ngaseuk');
            let curBudaya = 0;

            const indicatorContainer = document.getElementById('budaya-indicators');

            const renderBudaya = () => {
                slider.innerHTML = '';
                if (indicatorContainer) indicatorContainer.innerHTML = '';

                budayaData.forEach((item, i) => {
                    const div = document.createElement('div');
                    div.className = `ngaseuk__slide ${i === curBudaya ? 'active' : ''}`;
                    div.innerHTML = `
                        <div class="ngaseuk__number">0${i + 1}</div>
                        <h3 class="ngaseuk__label">UPACARA ADAT</h3>
                        <h2 class="ngaseuk__title">${item.title}</h2>
                        <div class="ngaseuk__divider-glow"></div>
                        <p class="ngaseuk__description">${item.d}</p>
                    `;
                    slider.appendChild(div);

                    if (indicatorContainer) {
                        const dot = document.createElement('div');
                        dot.className = `ngaseuk__dot ${i === curBudaya ? 'active' : ''}`;
                        dot.onclick = () => { curBudaya = i; renderBudaya(); };
                        indicatorContainer.appendChild(dot);
                    }
                });

                // Set background with transition effect
                const bgDiv = document.getElementById('budaya-bg');
                bgDiv.style.backgroundImage = `url('${budayaData[curBudaya].b}')`;
            };

            document.getElementById('budaya-prev').onclick = () => { curBudaya = (curBudaya - 1 + budayaData.length) % budayaData.length; renderBudaya(); };
            document.getElementById('budaya-next').onclick = () => { curBudaya = (curBudaya + 1) % budayaData.length; renderBudaya(); };
            renderBudaya();

            // Timeline
            const tl = document.getElementById('timeline-container');
            timelineData.forEach(item => {
                const div = document.createElement('div');
                div.className = 'timeline__item';
                div.innerHTML = `
                    <div class="timeline__content">
                        <h3 class="timeline__title" style="font-family: 'Times New Roman', serif; font-weight: 400; font-size: 2.2rem; margin-bottom: 15px;">${item.title}</h3>
                        <p class="timeline__description" style="margin-bottom: 15px; color: #666;">${item.description}</p>
                        <div class="timeline__date" style="display: inline-block;">${item.date}</div>
                    </div>
                `;
                tl.appendChild(div);
            });

            // Gallery
            const grid = document.getElementById('gallery-grid');
            const filterBtns = document.querySelectorAll('.filter-btn');

            const renderGallery = (filter = 'all') => {
                grid.innerHTML = '';
                const items = filter === 'all' ? galleryItems : galleryItems.filter(i => i.cat === filter);
                items.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'gallery__item';
                    div.innerHTML = `<img src="${item.img}" alt="${item.title}"><div class="gallery__item-overlay"><h3>${item.title}</h3></div>`;
                    grid.appendChild(div);
                });
            };

            filterBtns.forEach(btn => {
                btn.onclick = function () {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    renderGallery(this.dataset.filter);
                };
            });

            renderGallery();

            // Testimonials
            const testimonialGrid = document.getElementById('testimonials-grid');
            const renderTestimonials = () => {
                testimonialGrid.innerHTML = '';
                testimonialData.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'testimonial__card';

                    let starsHtml = '';
                    for (let i = 0; i < item.stars; i++) {
                        starsHtml += '<i class="fa-solid fa-star"></i>';
                    }

                    card.innerHTML = `
                        <div class="testimonial__stars">${starsHtml}</div>
                        <p class="testimonial__text">"${item.text}"</p>
                        <div class="testimonial__author">
                            <img src="${item.photo}" alt="${item.name}" class="testimonial__photo">
                            <div class="testimonial__details">
                                <h4 class="testimonial__name">${item.name}</h4>
                                <span class="testimonial__origin">${item.origin}</span>
                            </div>
                        </div>
                    `;
                    testimonialGrid.appendChild(card);
                });
            };

            renderTestimonials();

            // Public Modal Logic
            const pModal = document.getElementById('public-modal');
            const pBtn = document.getElementById('write-testimoni-btn');
            const pClose = document.getElementById('close-public-modal');
            const pForm = document.getElementById('public-form');
            const photoInput = document.getElementById('p-photo');
            const uploadStatus = document.getElementById('upload-status');

            pBtn.onclick = () => pModal.classList.add('active');
            pClose.onclick = () => pModal.classList.remove('active');
            window.onclick = (e) => {
                if (e.target == pModal) pModal.classList.remove('active');
            }

            // Show info when photo selected
            photoInput.onchange = function () {
                const file = this.files[0];
                if (file) {
                    uploadStatus.style.display = 'block';
                    uploadStatus.style.color = '#2563eb';
                    uploadStatus.innerHTML = '<i class="fa-solid fa-info-circle"></i> Foto siap. Jangan lupa attach saat email terbuka!';
                } else {
                    uploadStatus.style.display = 'none';
                }
            };

            pForm.onsubmit = (e) => {
                e.preventDefault();
                const name = document.getElementById('p-name').value;
                const origin = document.getElementById('p-origin').value;
                const text = document.getElementById('p-text').value;
                const hasPhoto = photoInput && photoInput.files.length > 0;

                const subject = `Testimoni Baru dari ${name}`;
                let body = `Nama: ${name}%0D%0AAsal: ${origin}%0D%0APesan: ${text}`;
                let alertMessage = 'Terima kasih! Email testimoni Anda telah disiapkan.';

                if (hasPhoto) {
                    body += `%0D%0A%0D%0A[PENTING: Mohon lampirkan foto "${photoInput.files[0].name}" sebagai attachment di email ini]`;
                    alertMessage = '✅ Email testimoni siap!\n\n⚠️ PENTING: Jangan lupa lampirkan (attach) foto yang sudah Anda pilih ke email yang akan terbuka!';
                }

                window.location.href = `mailto:patanjalaworx@gmail.com?subject=${subject}&body=${body}`;

                pModal.classList.remove('active');
                pForm.reset();
                uploadStatus.style.display = 'none';

                alert(alertMessage);
            };
        });
    </script>
</body>

</html>